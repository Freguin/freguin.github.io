<html>
	<head>
		<meta charset="UTF-8">
	</head>
	<body style="background-size:cover;left: 0;position: relative;margin: 0;overflow: hidden;">
		<canvas id="canvas" width="500" height="500" ></canvas>
		<script>
			window.onload=function(){
				document.getElementById('canvas').width = document.body.clientWidth;
				document.getElementById('canvas').height = document.body.clientHeight;
				c = document.getElementById('canvas').getContext('2d')
				setInterval(update,1000/30);
				//c.addEventListener("mousemove",function(e){
				//	p1y = e.clientY-paddleHeight/2;
				//});
				document.addEventListener('mousemove',function(e){
					p1y = e.clientY-paddleHeight*0.5;
				});
			}
			width = document.body.clientWidth;
			height = document.body.clientHeight;
			paddle2Speed = 4;
			ballSide = 8;
			ballX = ballY = 250 - 0.5 * ballSide;
			ballXV = ballYV = 8;
			paddleHeight = 50;
			paddleWidth = 15;
			p1y = 250-paddleHeight*0.5;
			p2y = 250-paddleHeight*0.5;
			score1 = score2 = 0;
			p1x = 15;
			p2x = width-paddleWidth-15;
			
			function reset(){
				ballX = width*0.5 - ballSide*0.5;
				ballY = height*0.5 + ballSide*0.5;
				
				ballXV*=-1;
			}
			function update(){
				ballX+=ballXV;
				ballY+=ballYV;
				if(ballX>=width){
					score1++;
					reset();
				}
				if(ballX<=0){
					score2++
					reset();
				}
				if(ballX<=p1x+paddleWidth &&  ballY>=p1y && ballY<=p1y+paddleHeight && ballX>=p1x){
					ballXV*=-1;
					ballYV=(ballY-(p1y+0.5*paddleHeight))/1.5;
				}
				if(ballX+ballSide>=p2x &&  ballY>=p2y && ballY<=p2y+paddleHeight && ballX+ballSide<=p2x+paddleWidth){
					ballXV*=-1;
					ballYV=(ballY-(p2y+0.5*paddleHeight))/1.5;
				}
				if(ballY+ballSide>=height || ballY<=0){
					ballYV*=-1;
				}
				
				if(p2y+paddleHeight/2<ballY+0.25){
					p2y+=paddle2Speed;
				} else if(p2y+paddleHeight/2>ballY-0.25){
					p2y-=paddle2Speed;
				}
				c.fillStyle='black';
				c.fillRect(0,0,width,height);
				c.fillStyle='white';
				c.fillRect(15,p1y,paddleWidth,paddleHeight);
				c.fillRect(width-paddleWidth-15,p2y,paddleWidth,paddleHeight);
				c.fillRect(ballX,ballY,ballSide,ballSide);
				for(i=0;i<=height;i+=60){
					c.fillRect(width/2,i,10,30);
				}
				c.font = "50px Arial Black"
				c.fillText(score1,width/4,55);
				c.fillText(score2,width*3/4,55);
			}
		</script>
	</body>
</html>
