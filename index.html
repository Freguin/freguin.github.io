<body style="background-size:cover;left: 0;position: relative;margin: 0;overflow: hidden;">
  <canvas id="canvas" width="500" height="500" tabindex="1"></canvas>
  <script>
    width = document.body.clientWidth;
    height = document.body.clientHeight;
    frameRate = 1000;
    iterate = 0;
    halfW = width / 2;
    halfH = height / 2;
    subtraction = 0;
    unsorted = [1];
    skips = 10;
    end_sorted = 0;
    list_size = 5000;

    function getRandomIntInclusive(min, max) {
	  min = Math.ceil(min);
	  max = Math.floor(max);
	  return Math.floor(Math.random() * (max - min + 1)) + min;
    }
    for(j=2;j<=list_size;j++){
	index = getRandomIntInclusive(0,unsorted.length);
        unsorted.splice(index, 0, j);
    }
    window.onload = function() {
      document.getElementById('canvas').width = width;
      document.getElementById('canvas').height = height;
      c = document.getElementById('canvas').getContext('2d');
      animate = setInterval(update, 1000 / frameRate);
    }
    function update() {
      c.fillStyle = 'rgba(255,255,255,1)';
      c.fillRect(0, 0, width, height);
      if(end_sorted<=list_size){
        for(i=0;i<=skips;i++){
          for(j=0;j<=end_sorted;j++){
            var foo;
            if(unsorted[iterate]-1<unsorted[j]){
              foo = unsorted[iterate];
              unsorted.splice(iterate,1);
              unsorted.splice(j,0,foo);
            }
          }
          end_sorted+=1;
          iterate++;
        }
			}
      //draws rectangles
      for(i=0;i<unsorted.length;i++){
        if(i===iterate){
          c.fillStyle = 'rgba(255, 80, 80, 1)';
        }
        else {
          c.fillStyle = 'rgba(0,0,0,1)';
        }
        c.fillRect(i*(width/unsorted.length),height-unsorted[i]*(height/unsorted.length),width/unsorted.length,unsorted[i]*(height/unsorted.length));
            }
    }
  </script>
</body>
